<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Torna a página responsiva -->
    <title>Cadastro de doador</title>
    <link rel="stylesheet" href="../../assets/css/style_M.css">
</head>
<body>
    <header>
        <!-- Barra de navegação do site -->
        <nav class="menu">
            <div class="logo">
                <img src="../../assets/images/logo.png" alt="Logo Doação de Sangue"> <!-- Logo do site -->
            </div>
            <ul class="nav-links">
                <li><a href="#">Início</a></li>
                <li class="ativo"><a href="#">Doe Sangue</a></li>
                <li><a href="#">Preciso de Doação</a></li>
                <li><a href="#">Campanhas</a></li>
                <li><a href="#">Dúvidas</a></li>
                <li><a href="#">Sobre Nós</a></li>
            </ul>                     
        </nav>
    </header>

    <section class="hero">
        <!-- Seção inicial com chamada para ação e botão -->
        <div class="text-center">
            <h1>Seja o super-herói que o mundo precisa!</h1>
            <h1>Doe sangue e salve vidas.</h1>
            <a href="#cadastroDoador" class="btn-doe">Seja doador</a> <!-- Botão que leva para a seção de cadastro -->
        </div>
        
        <!-- Elementos decorativos em forma de onda -->
        <div class="wave wave1"></div>
        <div class="wave wave2"></div>
        <div class="wave wave3"></div>
    </section>

    <section class="porque-doar">
        <!-- Seção explicando a importância de doar sangue -->
        <h2>PORQUE DOAR SANGUE?</h2><br>
        <div class="doar-sangue-content">
            <div class="imagem-campanha">
                <img src="../../assets/images/doe_sangue.png" alt="Doe Sangue"> <!-- Imagem com o tema de doação -->
                <a href="#" class="btn-campanha">Campanhas</a> <!-- Botão para ver campanhas de doação -->
            </div>
            <div class="texto-motivos">
                <!-- Lista de motivos para doar sangue -->
                <p>1. É seguro, pois todo o material usado no procedimento é esterelizado e descatável, o que reduz qualquer chance de contanimação.</p><br>
                <p>2.Cada doação ajuda até quatro pessoas.</p><br>
                <p>3. A doação de sangue não oferece riscos de contaminação.</p><br>
                <p>4. O sangue doado é restabelecido rapidamente.</p><br>
                <p>5. O sangue doado é utilizado no tratamento de pessoas com doenças hematológicas variadas, como doença falciforme e talassemia...</p>
            </div>
        </div>
    </section>

    <section>
        <!-- Seção de cadastro de doador -->
        <section class="cadastro-doador" id="cadastroDoador">
            <h2>Cadastre-se e seja um(a) doador(a)</h2>
            <form id="formCadastro" method="POST" class="form-cadastro">
                <!-- Campos do formulário de cadastro de doador -->
                <label for="nome">Nome Completo</label>
                <input type="text" id="nome" name="nome" required>
        
                <label for="email">Email</label>
                <input type="email" id="email" name="email" required>
        
                <label for="telefone">Telefone</label>
                <input type="tel" id="telefone" name="telefone" required>
        
                <label for="data-nascimento">Data de Nascimento</label>
                <input type="date" id="data-nascimento" name="data-nascimento" required>
        
                <label for="tipo-sanguineo">Tipo Sanguíneo</label>
                <select id="tipo-sanguineo" name="tipo-sanguineo" required>
                    <option value="">Selecione</option>
                    <!-- Opções de tipo sanguíneo -->
                    <option value="A+">A+</option>
                    <option value="A-">A-</option>
                    <option value="B+">B+</option>
                    <option value="B-">B-</option>
                    <option value="AB+">AB+</option>
                    <option value="AB-">AB-</option>
                    <option value="O+">O+</option>
                    <option value="O-">O-</option>
                </select>
        
                <label for="estado">Estado</label>
                <input type="text" id="estado" name="estado" required>
        
                <label for="cidade">Cidade</label>
                <input type="text" id="cidade" name="cidade" required>
        
                <label for="onde-conheceu">Onde nos conheceu?</label>
                <select id="onde-conheceu" name="onde-conheceu" required>
                    <option value="">Selecione</option>
                    <!-- Opções para saber como a pessoa conheceu -->
                    <option value="internet">Internet</option>
                    <option value="tv">TV</option>
                    <option value="amigos">Amigos</option>
                    <option value="outros">Outros</option>
                </select>
        
                <label for="sexo">Sexo</label>
                <select id="sexo" name="sexo" required>
                    <option value="">Selecione</option>
                    <option value="masculino">Masculino</option>
                    <option value="feminino">Feminino</option>
                    <option value="outro">Outro</option>
                </select>
        
                <label>
                    <input type="checkbox" name="newsletter">
                    Desejo receber a newsletter <!-- Checkbox para assinar newsletter -->
                </label>
        
                <button type="button" id="btnCadastrar">Cadastrar</button> <!-- Botão para cadastrar -->
            </form>
            <div id="mensagem-confirmacao" class="mensagem-confirmacao"></div> <!-- Div para mensagem de confirmação -->
        </section>
        
    </section>

    <!-- Scripts para manipulação do formulário -->
    <script>
        document.getElementById("formCadastro").addEventListener("submit", function(event) {
            event.preventDefault(); // Impede o envio do formulário ao servidor
    
            // Exibe a mensagem de confirmação
            document.getElementById("mensagem-confirmacao").textContent = "Cadastro realizado com sucesso!";
            
            // Limpa os campos do formulário
            event.target.reset();
        });
    </script>

    <script>
        document.getElementById("btnCadastrar").addEventListener("click", function(event) {
            event.preventDefault(); // Impede o envio padrão do formulário
    
            // Coleta os dados do formulário
            const formData = {
                nome: document.getElementById("nome").value,
                // Colete os valores de outros campos do formulário aqui
            };
    
            // Envia os dados para o servidor
            fetch("/salvar_doador", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(formData) // Envia os dados em formato JSON
            })
            .then(response => response.json()) // Lida com a resposta do servidor
            .then(data => {
                if (data.success) {
                    alert("Cadastro realizado com sucesso!");
                } else {
                    alert("Houve um problema no cadastro.");
                }
            })
            .catch(error => {
                console.error("Erro:", error);
                alert("Erro no servidor.");
            });
        });
    </script>
    
</body>
</html>
